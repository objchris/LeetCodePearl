# 889.Construct Binary Tree from Preorder and Postorder Traversal

[åŸé¢˜åœ¨æ­¤](https://leetcode.com/problems/construct-binary-tree-from-preorder-and-postorder-traversal/)

éš¾åº¦ï¼šMEDIUM

é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€æ£µæ ‘çš„å‰åºéå†å’Œååºéå†ç»“æœï¼Œè¿˜åŸè¿™æ£µæ ‘
```
ç»™å®šï¼š
pre = [1,2,4,5,3,6,7]
post = [4,5,2,6,7,3,1]

è¿˜åŸï¼š
    1
   / \
  2   3
 / \ / \
4  5 6  7
```
## æ€è·¯
æ ‘çš„å‰ä¸­ååºéå†ç»“æœéƒ½æœ‰è§„å¾‹ï¼Œä»¥é¢˜å¹²ä¸ºä¾‹ï¼šå·¦å­æ ‘ã€æ ¹ã€å³å­æ ‘çš„é¡ºåºä½“ç°ä¸ºï¼š

- å‰åºï¼š[æ ¹èŠ‚ç‚¹,<å·¦å­æ ‘>,<å³å­æ ‘>]
- ä¸­åºï¼š[<å·¦å­æ ‘>,æ ¹èŠ‚ç‚¹,<å³å­æ ‘>]
- ååºï¼š[<å·¦å­æ ‘>,<å³å­æ ‘>,æ ¹èŠ‚ç‚¹]

å·¦ã€æ ¹ã€å³è‚¯å®šæ˜¯å„è‡ªæˆå †å‡ºç°åœ¨ç»“æœä¸­ã€‚

ç”¨é€’å½’çš„æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥é’ˆå¯¹è¿™ä¸€æ€§è´¨ï¼Œæ¯æ¬¡é€’å½’æ—¶ç¼©å°ç»™å®šæ•°ç»„çš„é•¿åº¦ï¼Œè€Œä¸æ˜¯å¯¹æ•´ä¸ªæ•°ç»„è¿›è¡Œæ“ä½œã€‚

åƒ 105ã€106 ä¸­æœ‰ä¸­åºéå†çš„ç»“æœï¼Œå…¶è¿˜åŸçš„æ ‘æ˜¯å”¯ä¸€çš„ã€‚åªæœ‰å‰åºå’Œååºï¼Œä½¿å¾—ç­”æ¡ˆå˜å¾—å¤šæ ·äº†èµ·æ¥ã€‚

æˆ‘ä»¬çŸ¥é“ï¼Œå‰åºéå†ç¬¬ä¸€ä½å’Œååºéå†æœ€åä¸€ä½æ˜¯æ ¹èŠ‚ç‚¹ã€‚éš¾å°±éš¾åœ¨ï¼šå–å¾—ä¸€ä¸ªæ ¹ï¼Œå¦‚ä½•æ‰¾åˆ°è¯¥æ ¹èŠ‚ç‚¹çš„å·¦æ ‘çš„èŠ‚ç‚¹æ•°å’Œå³æ ‘çš„èŠ‚ç‚¹æ•°ï¼Œå½“ç„¶ï¼Œå¯¹äºè¿™ä¸¤ä¸ªæ•°é‡ï¼Œæ±‚å¾—ä¸€ä¸ªä¹Ÿå°±æ˜¯ä¸¤ä¸ªéƒ½çŸ¥é“äº†ã€‚

å‡è®¾ L ä¸ºå·¦æ ‘çš„èŠ‚ç‚¹æ•°é‡ï¼Œé‚£ä¹ˆæ ¹æ®ä¸Šé¢çš„è§„å¾‹ï¼Œå¯å¾—ï¼š `pre[1] == post[L - 1] //æ ¹èŠ‚ç‚¹ä¸‹æ ‡ä¸º 0` æ—¶ï¼Œå¯å¾— L å€¼ï¼Œä»¥æ­¤ç±»æ¨ç»§ç»­æ±‚å„ä¸ªå­æ ‘ã€‚

äºæ˜¯ï¼Œæœ‰é€’å½’çš„ Python3 ä»£ç å¦‚ä¸‹ ğŸï¼š
``` python
class Solution:
    def constructFromPrePost(self, pre: List[int], post: List[int]) -> TreeNode:
        def recursive(l:int, r:int, N:int) -> TreeNode:
            """
            l:preä¸‹æ ‡èµ·å§‹
            r:postä¸‹æ ‡èµ·å§‹
            N:è¯¥æ ‘å…±æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹
            """
            if N == 0:
                return None
            root = TreeNode(pre[l])
            if N == 1:
                return root

            # æ±‚å·¦å­æ ‘çš„èŠ‚ç‚¹æ•°é‡ L , N - L - 1 å³ä¸ºå³å­æ ‘
            for L in range(N):
                if post[r + L - 1] == pre[l + 1]:
                    break

            root.left = recursive(l+1, r, L)
            root.right = recursive(l+1+L, r+L , N-1-L)
            return root
        return recursive(0, 0, len(pre))
```

![python3](Photos/python3.png)